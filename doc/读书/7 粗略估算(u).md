# 粗略估算



## 基本原则：

大部分的估算都基于这个显而易见的法则： **总开销等于每个单元的开销 * 单元的个数**





### 两个答案比一个答案好

应该用不同的计算方法进行多重校验：比如你使用流出速率估算每日河流一天流出的水，可以再用每年降雨径流量来估算



### 量纲检验

原则：

- 求和量纲必须一致
- 乘积量纲是各乘数量纲的乘积



### 舍9法

所有加数的数字和%9的结果和和%9的结果应该一样



### 经验法则 

**72法则：**以r%利率投资一笔钱y年，如果r*y = 72，那么投资会差不多翻一倍

**1024法则：**由于2^10 =1024，那么10次翻倍大约是1000倍，20次翻倍大约是100万倍，30次翻倍大约是10亿倍



假设一个指数程序解决规模n =40的问题需要10秒，并且n每增加1运行时间增加12%，根据72法则，n每增加6运行时间增加一倍，n每增加60，运行时间增加1000倍。所以当n=100时，运行时间大约为10000秒，当n增加到160时，运行时间增加到10^7秒



10^7秒大概是什么概念？**一年 = 3.155 * 10^7秒**，那么10^7秒就是差不多4个月。



## Little定律

Little定律：队列中的物体平均数量 = 进入速率 * 平均逗留时间

Little定律可以用来估算排队时间：如果一个饭店平均能容纳60人，每个人在饭店大概逗留的时间为3小时，我们可以估算进入速度率为60/3 = 20人/时，前面有20个人的排队时间为1小时。



前提：离开与进入系统的总体出入流平衡



### 多用户系统 响应时间

可用little定律河流平衡的原理来证明多用户系统中的响应时间公式。



假定平均思考时间为`z`的`n`个用户同时登录到响应时间为`r`的任意系统中，每个用户周期都有`思考`和`等待`系统响应两个阶段组成，因此整个元系统（包括用户和计算机系统）中的作业总数固定`n` 。如果切断系统输出到用户的路径，你会发现元系统的平均负荷为`n，`平均响应时间`x，`little定律告诉我们：**n = x * (z +r )**，所以 **r = n/x - z** 





任何事都应该尽量简单，但不宜过于简单。