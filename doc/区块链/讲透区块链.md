# 讲透区块链

## 写在开头

最近研究了一下区块链，这个领域最近特别的火，火的不行不行了，又是区块链大会，又是区块链学报创刊，又是区块链研究实验室落地。而且我们这边最近研究区块链的人也开始多了起来，最近刚请了一个自动化所的研究员跟我们做一个有关区块链的汇报，得知他们现在已经建立了区块链研究中心，果然自动化所的人还是都走在前面。

那这个牛逼轰轰的“区块链”是个什么东西呢？？



# 比特币

讲到区块链，必须要提的是比特币，因为区块链诞生之出就是为了解决比特币的“双花问题”而提出的。

比特币是个什么东东？其实就是一种数字货币，它是有价值的，能在世界范围内流通，就和1QB = 1RMB一样，但是它可贵多了，根据最近的市价1比特币大约能换4000RMB，03年最高的时候一度飙升到6000RMB。（而最初的价格可能才几百不到，所以最早买比特币的人都富的不要不要的了）。类似的货币还有以太坊，莱特币，狗狗币等……

是不是一听就是个骗局？（特别是狗狗币那是个什么鬼！），所以你在浏览器中一搜比特币骗局会出来一堆相关信息。



![your text](http://o7bk1ffzo.bkt.clouddn.com/1474859201450)

但是实际上，现在比特币已经在世界范围内广泛流通了。世界上很多国家已经讲比特币合法化了，中国虽然现在当没完全通过立法认同比特币，但是态度已经从不承认到允许个人交易，到观望了。



![your text](http://o7bk1ffzo.bkt.clouddn.com/1474860037748)

因为它是比特币完全虚拟的，你甚至都不知道它长什么样？这让很多人没有安全感。但是比特币安全性远超过你的想象。甚至远比你存在银行的钱安全。因为存在银行的钱还有可能“不翼而飞”，特别是现在手机银行越来越普遍的情况下，手机因为中病毒而导致银行卡的钱被转走的案例不在少数。但是比特币不会，任何人无法伪造你进行交易，任何伪造交易的行为都无法通过， 你甚至不用担心某个银行突然倒闭了，自己的钱全没了。

![your text](http://o7bk1ffzo.bkt.clouddn.com/1474860665054)

这里，必须要提下比特币是怎么诞生的。



## 信任问题

首先必须要提一下，整个比特币都是运行在P2P网络（对等网络）上的，也就是说，这个网上中没有一中心服务器进行管理。这里有个很严重的问题就是信任问题。

信任是货币的基础。其实货币的价值全都来自于信任，没有信任，货币没有任何价值。

> 比方说，去乡下给菜市场里的大妈一张美元买一斤菜。她会因为不了解真假和汇率而没有对这张美元的信任，就不会接受其支付
>
> 又或者，给大妈一小颗黄金，她虽然了解黄金有价值，但因为害怕碰到骗子，也不会接受，因为她无法鉴定黄金真假，而且汇率信息也不足
>
> 可见信任因人因环境而异。只要某人对某种支付媒介有信任，无论这个信任是基于何种基础，都会让他接受支付并付出一定量的财富来交换。比如说，某些超市的代价券，对这个超市的常客来说，就和现金一样好使，人家付给他一点这个代价券买东西，他会欣然接受，因为反正他每隔几天就要去超市购物，对超市兑付能力的信任，使得这个代价券对他来说就有价值

而央行就是一个足够有公信力的机构，所以它发的纸币能成为一个国家流通的货币。但是一但国家失去了这种信任基础，货币就会立刻贬值。比如冰岛就是一个好好的例子。

我们使用微信，支付宝也是因为我们信任腾讯，阿里这种大公司他们能保证我们的交易安全和可靠性。我们相信我们在上面的余额是不会被随意篡改的，任意时间都能换成现实生活中的货币的。

但是这种中心化的服务器有一个问题，就是他们存在不可靠性，支付宝的电缆一挖断，所有交易都无法进行。银行一申请破产，所有银行存款都瞬间蒸发。而且万一有人掌握了某个系统漏洞，能篡改数据库，我们的资金可能瞬间就会被卷走。还有就是，因为数据全放在中心的服务器上，随时也有隐私信息，密码泄漏的风险。

这时候，p2p的巨大优势就显现了，因为它本身就是没中心的。

**但是比特币这种基于P2P网络的数字货币，天生就是残疾的，它没有信任的基因。**因为这个网络上的所有节点都是平等的，而且交流，通信一般都是发生在节点和节点之间的。也就意味着，某人可以进行造假。

> 王二麻子只有20块钱，他首先跟李大花预约了1个20块的商品，给她亮出了自己的钞票，承诺给她自己的所有钱。但同时，他又跟小强发起了一笔交易，说要买一张20元电话卡，也给他亮了钞票，说充值完就给他钱。但是小花和小强彼此之前是不知道对方的存在的。这是产生双花问题

这时候怎么办？救世主就出现了。这时候不得不提比特币的创始人：迷一样的中本聪

## 比特币白皮书

2009年一个名叫中本聪（匿名）的牛人在网上贴出一篇名为《Bitcoin: A peer-to-peer Electronic Cash System》的文章（目前可以在网上下载），里面提出了一种新型的数字货币，并提出了一个解决双花问题的方案——区块链。

作为一个牛逼轰轰的技术，里面有很多复杂的技术特点，但是，作为初识区块链的人来说，不需要掌握那么深。你只要知道这个区块链呀，就是一个大帐本！

这个账本所有的旷工都保存了一份，里面就记录着所有已经产生的合法交易。

账本，当然是按时间顺序记录的啦。

每个区块就是一份账单，里面记录着这段时间内产生的所有交易，比如

> `下午2点20分`：`王二麻子`从`小花`手里买了一包卫龙，给了小花`2块钱`
>
> ``下午2点22分``：`王二麻子`从`小花`手里买了一包卫龙，给了小花``2块钱``
>
> ……

每次发生交易前，王二麻子都必须要通知所有人，告诉他们自己发生了一笔交易。这就和我们生活中要找个见证人一样。

“喂，各位亲朋好友，我王二麻子现要用2元钱从小花手里买走一袋未开封的辣条，大家都过来给我们做个见证哈。”

所有接到这个交易请求的人，都会来看看这个交易是否合法，他们判断的依据主要有2个：

1. 当前交易确实是王二麻子发出的。
2. 王二麻子的余额满足这次交易的金额，确实满足支付这笔交易。 



1. 可以采用公钥加私钥的方式确认 “恩，我看清了，这个人确实是王二麻子，他脖子上戴着祖传的项链”
2. 也很简单，直接查看目前手里的账单，找到所有王二麻子的交易记录，发现他的收入减去支出后还有余额满足当前交易



这样，大家都认可了这个交易后，就由一个人执笔，把这个交易写如账本，然后大家都更新一份，表示自己认可这个交易。这就是白字黑字写的明明白白的。任何人都没办法否认了。



**如果我们能保证在这一段时间，只有一个人有资格写这个账单，**那么我就能保证王二麻子不会发生双花问题。







要说，这个叫中本聪的人也是牛，他作为第一批矿工，掌握着比特

所以，货币的实际购买力归根到底是靠一个个接受支付的商家担保的，而不是发行者。发行者所做的，只是从各种方面增强人们对该种货币的信任



翻倍就像我们信任央行，所以我们相信我们手中的红色钞票能随时在银行兑换成





像我们现在用



这里先要提提什么叫双花问题：









要说，这个叫中本聪的人也是牛，他作为第一批矿工，掌握着比特





# 比特币

> 狭义来讲, 区块链是一种按照时间顺序将数据区块以链条的方式组合成特定数据结构, 并以密码学方式保证的不可篡改和不可伪造的**去中心化共享总账** (Decentralized shared ledger)
>
> 广义的区块链技术则是利用加密链式区块结构来验证与存储数据、利用分布式节点共识算法来生成和更新数据、利用自动化脚本代码 (智能合约) 来编程和操作数据的一种全新的去中心化基础架构与**分布式计算范式.**